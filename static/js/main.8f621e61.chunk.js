(this.webpackJsonphireandragh=this.webpackJsonphireandragh||[]).push([[0],{17:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),o=n.n(s),r=n(4),c=n.n(r),i=n(8),l=n(3),d=n(19),u=n(20),h=(n(31),n(9)),b=n(5),j=function(e){var t=e.img,n=e.name,s=e.region,o=e.capital,r=e.languages,c=e.population;return Object(a.jsxs)("div",{className:"tc pa3 br3 grow shadow-3 tl w-100",style:{boxShadow:"0 0 1rem 0 rgba(0, 0, 0, .2)",backgroundColor:"rgba(255, 255, 255, .15)",backdropFilter:"blur(5px)"},children:[Object(a.jsx)("img",{className:"h4 w5 dib ba b--black-05 pa2",alt:"flag",src:t}),Object(a.jsx)("h2",{className:"tc",children:n}),Object(a.jsx)("hr",{className:"mw3 bb bw1 b--black-10"}),Object(a.jsxs)("h3",{children:["Region: ",s]}),Object(a.jsxs)("h3",{children:["Capital: ",o]}),Object(a.jsxs)("p",{children:["Languages: ",r]}),Object(a.jsxs)("p",{children:["Population: ",c," people"]})]})},p=function(e){return e.countries.map((function(e,t){var n=[];if(e.languages)for(var s=0,o=Object.entries(e.languages);s<o.length;s++){var r=Object(h.a)(o[s],2),c=(r[0],r[1]);n.push("".concat(c,", "))}return Object(a.jsx)("div",{className:"pa3 mr2",children:Object(a.jsx)(j,{img:e.flags.svg,name:e.name.common,region:e.region,capital:e.capital&&0===e.capital.length?"N/A":e.capital,languages:n,population:e.population})},t)}))},g=function(e){var t=e.onValueEntered,n=e.value;return Object(a.jsx)("div",{className:"tc pa3",children:Object(a.jsx)("input",{className:"ba tc br3 pa3",style:{width:"300px"},type:"text",placeholder:"Enter a country name to see info",onChange:t,value:n})})},m=n(6),f=n(7),x=n(11),O=n(10),y=function(e){var t=e.bgColor,n=e.color,s=e.text,o=e.textSize,r=e.width,c=e.onClick;return Object(a.jsx)("button",{className:"ba br-pill ph4 pv3 mv2 dib shadow-3 grow self-center "+n+" "+o,style:{backgroundColor:t,borderStyle:"none",width:r},onClick:c,children:s})},C=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleClickPlay=function(){var e=a.props.topic;a.state.play?a.setState({play:!1,buttonPlayValue:"Guess the ".concat(e)}):a.setState({play:!0,buttonPlayValue:"Close 'Guess the ".concat(e,"'")})},a.handleKeyDown=function(e){"Enter"!==e.key&&13!==e.keyCode||(a.setState({guessEntered:!0,readOnly:!0,disabled:!0}),a.sendComponentScore())},a.handleOkButton=function(e){a.setState({guessEntered:!0,readOnly:!0,disabled:!0}),a.sendComponentScore()},a.onGuessEntered=function(e){a.setState({guess:e.target.value})},a.wrongGuess=function(){a.setState({guessEntered:!1,guess:"",disabled:!1,readOnly:!1})},a.handleGiveUp=function(){a.state.giveUp?a.setState({giveUp:!1}):a.setState({giveUp:!0})},a.newCountry=function(e){a.setState({guessEntered:!1,guess:"",readOnly:!1,disabled:!1,randomElement:e[Math.floor(Math.random()*e.length)]})},a.sendComponentScore=function(){var e=a.props.topic;console.log("topic",e),console.log("this.state.guess.toLowerCase()",a.state.guess.toLowerCase()),console.log("this.state.randomElement[this.props.topic].toLowerCase()",a.state.randomElement[a.props.topic].toLowerCase()),"capital"===e&&a.state.guess.toLowerCase()===a.state.randomElement[a.props.topic][0].toLowerCase()||"region"===e&&a.state.guess.toLowerCase()===a.state.randomElement[a.props.topic].toLowerCase()?a.props.addScore(!0):a.props.addScore(!1)},a.state={randomElement:"",play:!1,guess:"",guessEntered:!1,buttonPlayValue:"",readOnly:!1,disabled:!1,giveUp:!1},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.countries,n=e.topic;this.setState({randomElement:t[Math.floor(Math.random()*t.length)],buttonPlayValue:"Guess the ".concat(n)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.countries,s=t.topic,o=this.state,r=o.randomElement,c=o.play,i=o.guess,l=o.guessEntered,d=o.buttonPlayValue,u=o.readOnly,h=o.disabled,b=o.giveUp;return console.log("random Element",r),Object(a.jsxs)("div",{className:"tc mv3",children:[Object(a.jsx)(y,{bgColor:"#a8eb12",text:d,textSize:"f3",width:"300px",onClick:this.handleClickPlay}),c?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"flex justify-center flex-column",children:Object(a.jsxs)("h2",{className:"f3 tc mt2 mb3",children:[Object(a.jsx)("span",{className:"ttc",children:s})," of"," ",Object(a.jsx)("span",{className:"underline",children:r.name.common}),"?"]})}),Object(a.jsx)("input",{className:"ba tc br-pill pa3",style:{width:"300px",textTransform:"capitalize"},type:"text",placeholder:"Write your answer here",onChange:this.onGuessEntered,onKeyDown:this.handleKeyDown,value:i,readOnly:u,disabled:h}),Object(a.jsx)(y,{bgColor:"#00bf72",text:"OK",color:"white mh2",textSize:"f5 b",onClick:function(){return e.handleOkButton()}}),Object(a.jsx)(y,{bgColor:"#008793",text:"Change country",color:"white",textSize:"f5 b",onClick:function(){return e.newCountry(n)}}),l?"capital"===s&&this.state.guess.toLowerCase()===this.state.randomElement[this.props.topic][0].toLowerCase()||"region"===s&&this.state.guess.toLowerCase()===this.state.randomElement[this.props.topic].toLowerCase()?Object(a.jsxs)("div",{className:"flex justify-center flex-column",children:[Object(a.jsx)("h2",{className:"b mt3 mb2",children:"BRAVO! That's right!"}),Object(a.jsx)(y,{bgColor:"#051937",text:"Play again!",color:"white",textSize:"b f5",onClick:function(){return e.newCountry(n)}})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"flex justify-center",children:[Object(a.jsx)(y,{bgColor:"#04c3d1",text:"Try again!",color:"white",textSize:"b f5",onClick:this.wrongGuess}),Object(a.jsx)(y,{bgColor:"#0298a3",text:"Give Up",color:"white ml2",textSize:"f5 b",onClick:this.handleGiveUp})]}),b?Object(a.jsxs)("div",{className:"flex justify-center flex-column",children:[Object(a.jsxs)("h3",{className:"b mt2 mb3",children:["The ",s," of ",r.name.common," is"," ",r[s],"!"]}),Object(a.jsx)(y,{bgColor:"#051937",text:"Play again!",color:"white",textSize:"f5",onClick:function(){return e.newCountry(n)}})]}):Object(a.jsx)("div",{})]}):Object(a.jsx)("div",{children:" "})]}):Object(a.jsx)("div",{})]})}}]),n}(s.Component),v=function(e){var t=e.randomCountry,n=e.disabled,s=e.onClick;return Object(a.jsx)("button",{className:"ba tc mv1 mh1 pa3 ph3 mid-gray",style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundPosition:"center",display:"inline-block",width:"200px",color:"rgba(0, 0, 0, 0)",fontSize:"3em"},onClick:s,disabled:n,children:"Flag"})},w=function(e){Object(x.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleClickPlay=function(e){a.state.play?a.setState({play:!1,buttonPlayValue:"Guess the Flag"}):a.setState({play:!0,randomElement:e[Math.floor(Math.random()*e.length)],buttonPlayValue:"Close 'Guess the Flag'"})},a.newPick=function(e){a.setState({play:!0,randomElement:e[Math.floor(Math.random()*e.length)],disabled:!1})},a.handleMouseClick=function(e){a.setState({guess:e}),a.sendComponentScore(e.flags.svg)},a.picturesDisplay=function(e){var t=[];t[0]=e[Math.floor(Math.random()*e.length)],e.forEach((function(e){e!==t[0]&&(t[1]=e)})),e.forEach((function(e){e!==t[0]&&e!==t[1]&&(t[2]=e)})),a.setState({flagsDisplay:t})},a.wrongAnswer=function(){a.setState({guess:"",disabled:!1})},a.playAgain=function(e){a.setState({randomArrayOf3:[e[Math.floor(Math.random()*e.length)],e[Math.floor(Math.random()*e.length)],e[Math.floor(Math.random()*e.length)]],guess:"",disabled:!1})},a.sendComponentScore=function(e){console.log("flag co",e,a.state.randomElement.flag),a.setState({disabled:!0}),e===a.state.randomElement.flags.svg?a.props.addScore(!0):a.props.addScore(!1)},a.state={randomArrayOf3:[],randomElement:"",play:!1,guess:"",flagsDisplay:[],guessEntered:!1,buttonPlayValue:"",disabled:!1},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.countries;this.setState({randomArrayOf3:[e[Math.floor(Math.random()*e.length)],e[Math.floor(Math.random()*e.length)],e[Math.floor(Math.random()*e.length)]],buttonPlayValue:"Guess the Flag"})}},{key:"render",value:function(){var e=this,t=this.props.countries,n=this.state,s=n.randomElement,o=n.play,r=n.guess,c=n.randomArrayOf3,i=n.flagsDisplay,l=n.buttonPlayValue,d=n.disabled;return console.log("random of array 3:",c),Object(a.jsxs)("div",{className:"tc mv3",children:[Object(a.jsx)(y,{bgColor:"#a8eb12",text:l,textSize:"f3",width:"300px",onClick:function(){e.handleClickPlay(c),e.picturesDisplay(c)}}),o?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{className:"f3 tc mv2",children:["Flag of"," ",Object(a.jsxs)("span",{className:"underline",children:[s.name.common,"?"]})]}),Object(a.jsxs)("div",{className:"pa3",children:[Object(a.jsx)(v,{randomCountry:i[0].flags.svg,onClick:function(){return e.handleMouseClick(i[0])},disabled:d}),Object(a.jsx)(v,{randomCountry:i[1].flags.svg,onClick:function(){return e.handleMouseClick(i[1])},disabled:d}),Object(a.jsx)(v,{randomCountry:i[2].flags.svg,onClick:function(){return e.handleMouseClick(i[2])},disabled:d}),Object(a.jsx)("div",{children:Object(a.jsx)(y,{bgColor:"#008793",color:"white",text:"Don't know. Reload",textSize:"f5",onClick:function(){e.playAgain(t),e.newPick(c),e.picturesDisplay(c)}})})]}),r?r.flags.svg===s.flags.svg?Object(a.jsxs)("div",{className:"flex justify-center flex-column",children:[Object(a.jsx)("h2",{className:"f3 b mv2",children:"BRAVO! That's right!"}),Object(a.jsx)(y,{bgColor:"#051937",text:"Play Again",color:"white",textSize:"f5",onClick:function(){e.playAgain(t),e.newPick(c),e.picturesDisplay(c)}})]}):Object(a.jsxs)("div",{className:"flex justify-center flex-column",children:[Object(a.jsxs)("h2",{className:"b f3 b mv2",children:["Keep trying! That's the flag of"," ",Object(a.jsxs)("span",{className:"underline",children:[r.name.common,"!"]})]}),Object(a.jsx)(y,{bgColor:"#051937",text:"Try Again",color:"white",textSize:"f5",onClick:this.wrongAnswer})]}):Object(a.jsx)("div",{})]}):Object(a.jsx)("div",{})]})}}]),n}(s.Component),S=n.p+"static/media/github.d1bb13ce.svg",k=n.p+"static/media/fb.d1e12fbb.png",E=n.p+"static/media/insta.9094474d.png",N=n.p+"static/media/twitter.a429d008.png",P=(n(32),"CHANGE_SEARCH_FIELD"),M="PLAY",L="SHOW_CARDS",A="GENERAL_SCORE",B="REQUEST_COUNTRIES_PENDING",z="REQUEST_COUNTRIES_SUCCESS",D="REQUEST_COUNTRIES_FAILED",T=(n(17),function(e){var t=e.children;return Object(a.jsx)("div",{className:"fadeInClass",children:t})}),G=function(e){var t=e.children;return Object(a.jsx)("span",{className:"blink",children:t})};var R=Object(i.b)((function(e){return Object(b.a)({searchedCountry:e.searchCountries.searchedCountry,play:e.searchCountries.play,playButton:e.searchCountries.playButton,showCards:e.searchCountries.showCards,showCardsButton:e.searchCountries.showCardsButton,countries:e.requestCountries.countries,error:e.requestCountries.error,isPending:e.requestCountries.isPending},"error",e.requestCountries.error)}),(function(e){return{onValueEntered:function(t){return e((n=t.target.value,{type:P,payload:n}));var n},handlePlayButton:function(){var t;e({type:M,payload:t})},handleShowCards:function(){var t;e({type:L,payload:t})},onRequestCountries:function(){return e((function(e){e({type:B}),fetch("https://restcountries.com/v3.1/all").then((function(e){return e.json()})).then((function(t){return e({type:z,payload:t})})).catch((function(t){return e({type:D,payload:t})}))}))}}}))((function(e){var t=e.countries,n=e.searchedCountry,o=e.play,r=e.playButton,c=e.showCards,i=e.showCardsButton,l=e.onValueEntered,d=e.handlePlayButton,u=e.handleShowCards,b=e.error,j=Object(s.useState)(0),m=Object(h.a)(j,2),f=m[0],x=m[1];Object(s.useEffect)((function(){e.onRequestCountries()}),[]);var O=function(e){e&&x(f+1)},v=t&&Array.isArray(t)?t.filter((function(e){return e.name.common.toLowerCase().includes(n.toLowerCase())})):[];return console.log("countries",t),Object(a.jsxs)("div",{className:"tc",children:[Object(a.jsx)("h1",{className:"tc",children:"Countries Game"}),Object(a.jsxs)("h2",{className:"f2",children:["Your score: ",f]}),t&&!t.message&&t[0]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(T,{children:Object(a.jsx)(y,{bgColor:"#051937",color:"white",text:r,textSize:"f2",onClick:d})}),o?Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{countries:t,topic:Object.keys(t[0])[11],addScore:O}),Object(a.jsx)(C,{countries:t,topic:Object.keys(t[0])[13],addScore:O}),Object(a.jsx)(w,{countries:t,addScore:O}),Object(a.jsxs)("div",{children:[Object(a.jsx)(y,{bgColor:"#051937",color:"white",textSize:"f3",text:i,onClick:u}),c?Object(a.jsxs)("div",{children:[Object(a.jsx)(g,{onValueEntered:l,value:n}),Object(a.jsx)("div",{className:"flex justify-center flex-wrap",children:Object(a.jsx)(p,{countries:t&&v})})]}):Object(a.jsx)("div",{})]})]}):Object(a.jsx)("div",{})]}):b||t.message?Object(a.jsx)("div",{style:{paddingTop:"20px",paddingBottom:"20px",fontSize:"20px",fontWeight:"bold"},children:"\ud83c\udf0e We couldn't load game data, please try again later \ud83c\udf0e"}):Object(a.jsxs)("div",{style:{paddingTop:"20px",paddingBottom:"20px",fontSize:"20px"},children:["Loading countries... ",Object(a.jsx)(G,{children:"\ud83c\udf0e"})]}),Object(a.jsx)("footer",{children:Object(a.jsxs)("div",{className:"flex justify-center items-end mt4",children:[Object(a.jsx)("div",{className:"ph2",children:Object(a.jsx)("a",{href:"https://www.github.com/andragh83/",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{height:"30px",src:S,alt:"github",style:{margin:"10px auto"}})})}),Object(a.jsx)("div",{className:"ph2",children:Object(a.jsx)("a",{href:"https://www.facebook.com/andraghstudio/",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{height:"30px",src:k,alt:"facebook",style:{margin:"10px auto"}})})}),Object(a.jsx)("div",{className:"ph2",children:Object(a.jsx)("a",{href:"https://twitter.com/andraghitulescu",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{height:"30px",src:N,alt:"facebook",style:{margin:"10px auto"}})})}),Object(a.jsx)("div",{className:"ph2",children:Object(a.jsx)("a",{href:"https://www.instagram.com/andragh83/",target:"_blank",rel:"noopener noreferrer",children:Object(a.jsx)("img",{height:"30px",src:E,alt:"instagram",style:{margin:"10px auto"}})})})]})})]})})),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),o(e),r(e)}))},V=(n(33),n(2)),_={searchedCountry:"",play:!1,playButton:"PLAY",showCards:!1,showCardsButton:"SHOW COUNTRIES",generalScore:0},F={isPending:!1,countries:[],error:""},I=Object(d.createLogger)(),q=Object(l.c)({searchCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case P:return Object(V.a)(Object(V.a)({},e),{},{searchedCountry:t.payload});case M:return Object(V.a)(Object(V.a)({},e),{},{play:!e.play,playButton:e.play?"PLAY":"CLOSE"});case L:return Object(V.a)(Object(V.a)({},e),{},{showCards:!e.showCards,showCardsButton:e.showCards?"Show Countries":"Hide Countries"});case A:return Object(V.a)(Object(V.a)({},e),{},{generalScore:e.generalScore++});default:return e}},requestCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case B:return Object(V.a)(Object(V.a)({},e),{},{isPending:!0});case z:return Object(V.a)(Object(V.a)({},e),{},{countries:t.payload,isPending:!1});case D:return Object(V.a)(Object(V.a)({},e),{},{error:t.payload,isPending:!1});default:return e}}}),H=Object(l.d)(q,Object(l.a)(u.a,I));c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(i.a,{store:H,children:Object(a.jsx)(R,{})})}),document.getElementById("root")),U()}},[[34,1,2]]]);
//# sourceMappingURL=main.8f621e61.chunk.js.map